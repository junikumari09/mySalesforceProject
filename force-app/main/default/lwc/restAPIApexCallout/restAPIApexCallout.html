<template>
  <div class="slds-m-top_small slds-m-bottom_medium">
    <h2 class="slds-text-heading_small slds-m-bottom_small">
      Nasa Astronomy Pic of the Day
    </h2>

    <!-- Base variant: Makes a button look like a link -->
    <lightning-button
      variant="brand"
      label="Show APEX Callout"
      title="Pic"
      onclick={handleClick}
      class="slds-m-left_x-small"
    ></lightning-button>
    <template if:true={loading}>
      <lightning-spinner
        alternative-text="Loading"
        size="Large"
      ></lightning-spinner>
    </template>

    <template if:true={apodresult}>
      <lightning-card title={apodresult.title}>
        <template if:true={image}>
          <img src={apodresult.url} />
        </template>
        <template if:false={image}>
          <iframe
            width="300"
            height="150"
            src={apodresult.url}
            frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
          ></iframe>
        </template>
        <lightning-textarea label={apodresult.explanation}></lightning-textarea>
      </lightning-card>
    </template>
  </div>
</template>
